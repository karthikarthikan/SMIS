{"ast":null,"code":"// LocalStorage token helpers\nexport const setToken = token => {\n  localStorage.setItem('authToken', token);\n};\nexport const getToken = () => {\n  return localStorage.getItem('authToken');\n};\nexport const removeToken = () => {\n  localStorage.removeItem('authToken');\n};\nexport const getUserRole = () => {\n  const user = JSON.parse(localStorage.getItem('user'));\n  return (user === null || user === void 0 ? void 0 : user.role) || null;\n};\nexport const setUser = user => {\n  localStorage.setItem('user', JSON.stringify(user));\n};\nexport const removeUser = () => {\n  localStorage.removeItem('user');\n};\nexport function redirectToDashboard(user) {\n  if (user.role === \"admin\") {\n    window.location.href = \"http://localhost:3001\"; // admin_portal\n  } else if (user.role === \"teacher\") {\n    window.location.href = \"http://localhost:3002\"; // teacher_portal\n  } else {\n    // Redirect to unauthorized access page\n    window.location.href = \"http://localhost:3000/unauthorized\"; // unauthorized access page\n  }\n}","map":{"version":3,"names":["setToken","token","localStorage","setItem","getToken","getItem","removeToken","removeItem","getUserRole","user","JSON","parse","role","setUser","stringify","removeUser","redirectToDashboard","window","location","href"],"sources":["C:/Users/Dell/Documents/School Management Information System/applications/auth_portal/src/utils/auth.js"],"sourcesContent":["// LocalStorage token helpers\nexport const setToken = (token) => {\n  localStorage.setItem('authToken', token);\n};\n\nexport const getToken = () => {\n  return localStorage.getItem('authToken');\n};\n\nexport const removeToken = () => {\n  localStorage.removeItem('authToken');\n};\n\nexport const getUserRole = () => {\n  const user = JSON.parse(localStorage.getItem('user'));\n  return user?.role || null;\n};\n\nexport const setUser = (user) => {\n  localStorage.setItem('user', JSON.stringify(user));\n};\n\nexport const removeUser = () => {\n  localStorage.removeItem('user');\n};\nexport function redirectToDashboard(user) {\n  if (user.role === \"admin\") {\n    window.location.href = \"http://localhost:3001\"; // admin_portal\n  } else if (user.role === \"teacher\") {\n    window.location.href = \"http://localhost:3002\"; // teacher_portal\n  }else {\n    // Redirect to unauthorized access page\n    window.location.href = \"http://localhost:3000/unauthorized\"; // unauthorized access page\n  }\n}"],"mappings":"AAAA;AACA,OAAO,MAAMA,QAAQ,GAAIC,KAAK,IAAK;EACjCC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEF,KAAK,CAAC;AAC1C,CAAC;AAED,OAAO,MAAMG,QAAQ,GAAGA,CAAA,KAAM;EAC5B,OAAOF,YAAY,CAACG,OAAO,CAAC,WAAW,CAAC;AAC1C,CAAC;AAED,OAAO,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAC/BJ,YAAY,CAACK,UAAU,CAAC,WAAW,CAAC;AACtC,CAAC;AAED,OAAO,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAC/B,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACT,YAAY,CAACG,OAAO,CAAC,MAAM,CAAC,CAAC;EACrD,OAAO,CAAAI,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEG,IAAI,KAAI,IAAI;AAC3B,CAAC;AAED,OAAO,MAAMC,OAAO,GAAIJ,IAAI,IAAK;EAC/BP,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEO,IAAI,CAACI,SAAS,CAACL,IAAI,CAAC,CAAC;AACpD,CAAC;AAED,OAAO,MAAMM,UAAU,GAAGA,CAAA,KAAM;EAC9Bb,YAAY,CAACK,UAAU,CAAC,MAAM,CAAC;AACjC,CAAC;AACD,OAAO,SAASS,mBAAmBA,CAACP,IAAI,EAAE;EACxC,IAAIA,IAAI,CAACG,IAAI,KAAK,OAAO,EAAE;IACzBK,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,uBAAuB,CAAC,CAAC;EAClD,CAAC,MAAM,IAAIV,IAAI,CAACG,IAAI,KAAK,SAAS,EAAE;IAClCK,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,uBAAuB,CAAC,CAAC;EAClD,CAAC,MAAK;IACJ;IACAF,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,oCAAoC,CAAC,CAAC;EAC/D;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}